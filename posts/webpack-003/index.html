<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>Webpack sass, external libs, html page | Technical Blog</title>
    <meta name="description" content="html, sass, typescript" />

    <link href="http://io.misostack.com/dist/styles.css" rel="stylesheet"></head>
    <link href="http://io.misostack.com/dist/customs.css" rel="stylesheet"></head>
<body class="body-default">
    <div class="wrapper">
        <header class="header">
    <div class="container">
        <a class="technical-blog-logo" href="http://io.misostack.com">Technical Blog</a>
    </div>
</header>
<div class="mainnav">
        <nav id="navBar" class="navbar navbar-default navbar-fixed clearfix">
            <a href="/" class="navbar-branch">
                IO.MISOSTACK.COM
            </a>
            <div class="navbar-menu-wrap">
                <ul class="navbar-menu">
                    
                        <li>
                            <a href="http://io.misostack.com/categories/hugo">Algorithm</a>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/datastorage">DataStorage</a>
                            
                                <ul class="navbar-sub-menu">
                                
                                    <li><a href="http://io.misostack.com/categories/files">Files</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/redis">Redis</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/mysql">MySQL</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/postgresql">PostgreSQL</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/mssql">MSSQL</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/mongodb">MongoDB</a></li>
                                
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/design-patterns">Design Patterns</a>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/ebooks">Ebooks</a>
                            
                                <ul class="navbar-sub-menu">
                                
                                    <li><a href="https://openstax.org/subjects/math">Openstax-Math</a></li>
                                
                                    <li><a href="https://www.khanacademy.org">Khanacademy</a></li>
                                
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/boilerplate">BoilerPlate</a>
                            
                                <ul class="navbar-sub-menu">
                                
                                    <li><a href="http://io.misostack.com/categories/lamp">LAMP</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/wordpress">Wordpress</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/ror">Ruby on Rails</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/lavarel">Lavarel</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/angularjs">AngularJS</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/reactjs">ReactJS</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/frontend">Frontend</a></li>
                                
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/tools">Tools</a>
                            
                                <ul class="navbar-sub-menu">
                                
                                    <li><a href="http://io.misostack.com/categories/hugo">Hugo Blog</a></li>
                                
                                    <li><a href="https://regex101.com/">Online Regex</a></li>
                                
                                    <li><a href="http://www.bashoneliners.com/">Bash Online</a></li>
                                
                                    <li><a href="https://www.epochconverter.com/">Unix Timestamp Conversion</a></li>
                                
                                    <li><a href="https://ryanstutorials.net/bash-scripting-tutorial/">Bash Scripting</a></li>
                                
                                    <li><a href="https://explainshell.com/">Explain Shell</a></li>
                                
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="http://io.misostack.com/categories/devops">Devops</a>
                            
                                <ul class="navbar-sub-menu">
                                
                                    <li><a href="http://io.misostack.com/categories/ubuntu">Ubuntu</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/centos">Centos</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/heroku">Heroku</a></li>
                                
                                    <li><a href="http://io.misostack.com/categories/aws">AWS</a></li>
                                
                                </ul>
                            
                        </li>
                    
                </ul>
            </div>
        </nav>
    </div>
        <div class="container main-content">
            <div class="row">
                <main class="content col-md-9">
                    
    <article class="article article-scrollby" data-target="#article-scrollpy">
        <h1>Webpack sass, external libs, html page</h1>
        <p>
            <strong>Categories: </strong>
            
                <a href="http://io.misostack.com/categories/frontend">frontend</a>
            
        </p>        
        <p>
            <strong>Tags: </strong>
            
                <a href="http://io.misostack.com/tags/javascript">javascript</a>
            
                <a href="http://io.misostack.com/tags/webpack">webpack</a>
            
        </p>
        

<h4 id="htmlwebpackplugin">HTMLWebpackPlugin</h4>

<p><strong>package.json</strong></p>

<p><a href="https://github.com/webpack-contrib/html-webpack-plugin">https://github.com/webpack-contrib/html-webpack-plugin</a></p>

<pre><code class="language-javascript">    ...
    &quot;html-webpack-plugin&quot;: &quot;webpack-contrib/html-webpack-plugin&quot;,
    ...
</code></pre>

<h4 id="styles">Styles</h4>

<p><strong>Sass</strong></p>

<pre><code class="language-bash">npm install sass-loader node-sass --save-dev
</code></pre>

<p><strong>Style</strong></p>

<pre><code class="language-bash">npm install style-loader css-loader --save-dev
</code></pre>

<p class="important">
    Usually, it's recommended to extract the style sheets into a dedicated file in production using the ExtractTextPlugin. This way your styles are not dependent on JavaScript
</p>

<pre><code class="language-bash">npm i -D extract-text-webpack-plugin@next
</code></pre>

<h4 id="images">Images</h4>

<pre><code class="language-bash">npm i -D file-loader copy-webpack-plugin
</code></pre>

<pre><code class="language-css">background-image: url(&quot;~images/example.png&quot;);
</code></pre>

<h4 id="config-sample">Config sample</h4>

<p><a class="collapse-trigger" data-toggle="collapse" href="#collapse-webpack-common" role="button" aria-expanded="false" aria-controls="collapse-webpack-common">
    <strong>webpack.common.js</strong>
  </a>
<div class="collapse" id="collapse-webpack-common"></p>

<pre><code class="language-javascript">const webpack = require('webpack');
const path = require('path');
const HTMLPlugin = require('html-webpack-plugin');

const SRC_DIR = path.resolve(__dirname,'src');
const DIST_DIR = path.resolve(__dirname, 'dist');
const ASSET_PATH = process.env.ASSET_PATH || '';

module.exports = {
  entry: {
    app: SRC_DIR + '/index.js'
  },
  output: {
    path: DIST_DIR,
    filename: '[name].bundle.js',
    publicPath: ASSET_PATH
  },
  resolve: {
    modules: [SRC_DIR, &quot;node_modules&quot;],
    extensions: ['.js', '.css', '.scss']
  },
  module: {
    rules: [
      {
        test: /\.css$/,
        include: /node_modules/,
        loader:  ['style-loader','css-loader']
      },      
      // images
      { 
        test: /\.(png|svg|jpe?g|gif)$/i,
        use: [
          {
            loader: 'file-loader',
            options: {            
              name: 'assets/images/[name].[ext]',
              outputPath: '',
              useRelativePath: false            
            }
          }
        ]
      },
      // fonts
      { test: /\.(woff|woff2|eot|ttf|otf)$/, use: ['file-loader'] }
    ]
  },
  plugins: [
    
    new HTMLPlugin({
      title: 'Webpack 4 Example',
      // Load a custom template (lodash by default see the FAQ for details)
      template: SRC_DIR + '/index.html'      
    })    
  ]
};
</code></pre>

<p></div></p>

<p><a class="collapse-trigger" data-toggle="collapse" 
href="#collapse-webpack-dev">
    <strong>webpack.dev.js</strong>
  </a>
<div class="collapse" id="collapse-webpack-dev"></p>

<pre><code class="language-javascript">const merge = require('webpack-merge');
const common = require('./webpack.common.js');

const path = require('path');
const SRC_DIR = path.resolve(__dirname,'src');
const DIST_DIR = path.resolve(__dirname, 'dist');
const ASSET_PATH = process.env.ASSET_PATH || '';

module.exports = merge(common, {
  devtool: 'inline-source-map',
  devServer: {
    contentBase: DIST_DIR,
    compress: false,
    port: 9000,    
    clientLogLevel: &quot;none&quot;,
    historyApiFallback: true
  },  
  module: {
    rules: [
      // sass
      {
        test: /\.scss$/,
        use: [{
            loader: &quot;style-loader&quot;
        }, {
            loader: &quot;css-loader&quot;
        }, {
            loader: &quot;sass-loader&quot;          
        }]
      }      
    ]
  }
});
</code></pre>

<p></div></p>

<p><a class="collapse-trigger" data-toggle="collapse" href="#collapse-webpack-prod">
    <strong>webpack.prod.js</strong>
  </a>
<div class="collapse" id="collapse-webpack-prod"></p>

<pre><code class="language-javascript">const merge = require('webpack-merge');
const common = require('./webpack.common.js');
const UglifyJSPlugin = require('uglifyjs-webpack-plugin');
const ExtractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);
const ExtractStyles = new ExtractTextPlugin({filename: 'styles.css'});
const CopyWebpackPlugin = require('copy-webpack-plugin');

const path = require('path');
const SRC_DIR = path.resolve(__dirname,'src');
const DIST_DIR = path.resolve(__dirname, 'dist');
const ASSET_PATH = process.env.ASSET_PATH || '';

module.exports = merge(common, {
    plugins: [
        new UglifyJSPlugin(),
        ExtractStyles,
        new CopyWebpackPlugin([
            { from:SRC_DIR + '/images', to: DIST_DIR + '/images' }
        ])
    ],
    module: {
        rules: [
            {
                test: /\.scss$/,
                use: ExtractStyles.extract({
                    fallback: &quot;style-loader&quot;,
                    use: [
                        {
                            loader: 'css-loader',
                            options: {
                                url: false,
                                minimize: true,
                                sourceMap: true
                            }                            
                        },
                        { loader: &quot;sass-loader&quot;}
                    ]                
                })    
            }
        ]
    }
});
</code></pre>

<p></div></p>

    </article>

                </main>
                <aside id="primary-sidebar" class="sidebar col-md-3">
                    
    <div class="sidebar-widget">
    <h3 class="widget-header ucfirst"><span>Post Series</span></h3>
    <ul class="sidebar-links">
    
        <li><a class="ucfirst" href="http://io.misostack.com/posts/webpack/">1.Webpack</a></li>          
    
        <li><a class="ucfirst" href="http://io.misostack.com/posts/webpack-002/">2.Cấu hình webpack nâng cao</a></li>          
    
        <li><a class="ucfirst" href="http://io.misostack.com/posts/webpack-003/">3.Webpack sass, external libs, html page</a></li>          
    
    </ul>
</div>
    <div class="sidebar-fixed">
        <div id="article-scrollpy" class="sidebar-widget">
            <h3 class="widget-header"><a href="#">Đầu mục bài viết</a></h3>
            <ul class="sidebar-links article-scrollpy-links">
            </ul>
        </div>   
    </div>

                </aside>
            </div>
        </div>
        <footer id="footer" class="footer footer-default">
            <div class="container">
                <p>Footer</p>
            </div>
        </footer>        
    </div>
    <script type="text/javascript" src="http://io.misostack.com/dist/app.bundle.js"></script></body>
</html>